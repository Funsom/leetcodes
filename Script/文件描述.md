## 源程序描述

| 文件标题                        |                                   文件描述                                   |
| ------------------------------- | :--------------------------------------------------------------------------: |
| Met_flow_datafile_generation.py | 用于MET-flow的管网数据生成从Excel文件中读取数据，生成对应的MET-flow Data数据 |
| pipeShpFileProcess.py           |  读取shp, dbf, shx 文件建立拓扑关系，修复连通性问题，生成DXF文件可视化结果   |
| shpProcess.py                   |                     基本功能同上，主要处理金坛的高压项目                     |
| pressureDataProcess.py          |             压力曲线分析程序，包含文件读取与处理，聚类与ANN分类              |

***

## 项目描述

***

| 项目名称    |                                                                                                       项目描述                                                                                                        |
| ----------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| Shape2Sql   |                                                           一个读取shp并导入MSSQL数据库的开源库 github 地址：git@github.com:xfischer/   Shape2SqlServer.git                                                            |
| SharpMap    |                                                                 一个简单易用C#开发的web和桌面地图库 github 地址：git@github.com:SharpMap/SharpMap.git                                                                 |
| LightGIS    |                                                        一个轻量级的GIS桌面软件，用于显示、查询、编辑和绘制地图 github 地址：git@github.com:Gooong/LightGIS.git                                                        |
| awesome-gis | 炫酷GIS项目是一个地理信息相关资源的集合（相当于目录），包括制图工具，地理分析工具，开发工具，数据，会议和社区，新闻，大规模开放在线课程，一些精彩的地图网站，等等 github 地址：git@github.com:sshuair/awesome-gis.git |

***

## 空间索引技术

***
| 技术名称 |                                                     技术描述                                                      |
| -------- | :---------------------------------------------------------------------------------------------------------------: |
| KDTree   |           特殊二叉树，用来加速处理K个最近点问题  github开源实现：git@github.com:codeandcats/KdTree.git            |
| RTree    | 空间数据建立索引多叉树，典型应用：管道附近范围内，阀门的位置与数量 github开源实现：git@github.com:enyim/RTree.git |

***

## 压力曲线分类/聚类

***

### 曲线特征工程

参考资料链接：https://blog.csdn.net/vegetable_bird_001/article/details/80653986

+ 数据去噪  噪点填充为前一个和后一个正常点的均值
  + 3-σ去噪：数据点与均值相差超过3个标准差，则认为为噪点
  + 移动中位数去噪：用中位数代替均值，用中位数偏差代替标准差，避免极端异常值的影响。通过移动分段中位数，增强局部异常点的探测
  
+ 数据标准化(归一化)
  + max-min标准化 对原始数据的一种线性变换，使原始数据映射到[0-1]之间，指将原始数据的最大值映射成1，是最大值归一化
  $$x^{*}= \frac{x-min}{max-min}$$
  + z-score标准化 根据原始数据的均值和标准差进行标准化,经过处理后的数据符合标准正态分布，即均值为0，标准差为1.本质上是指将原始数据的标准差映射成1，是标准差归一化。
  $$x^{*}=\frac{x-\mu}{\sigma}$$

+ 统计特征
  + 中心位置
    + 均值(mean): 表示统计数据的一般水平。受到极端值影响
    + 中位数(median): 在 n 个数据由大到小排序后，位在中间的数字，不受极端值影响
    + 众数(mode): 一组数据中出现次数最多的数据值，不受极端值影响、非数值性数据同样适用
  + 发散程度
    + 极差(R) $R=x_{max}-x_{min}$
    + 方差(var) $Var(x)=\frac{\sum_{i=1}^N(x_i-\mu)^2}{N}$
    + 标准差(std) $Std = \sqrt{Var}$
    + 变异系数(CV) $CV = \frac{Std}{Mean}$
  + 零值率 零值所占比例
  + 偏度 是不对称性的衡量 偏度为0，表示左右完美对称，左偏为负，右偏为正
  $$S=\frac{\sum_{t=1}^{n}(x_t-\mu)^3}{n\sigma^3}$$
  $\mu$是均值，$\sigma$是标准差，实际计算中，通过其样本值（$\overline X,Std$）代替
  + 峰度 是描述总体中所有取值分布形态陡峭程度的统计量 正太分布峰度为3 k>0 为尖峰态，k<0为低峰态
    $$K=\frac{\sum_{t=1}^n(x_t-\mu)^4}{n\sigma^4}$$
+ 时域特征
  + 自相关系数与偏相关系数
    + 自相关：时间序列与自身在不同时间点的互相关性 离散数据的$l$阶自相关系数的定义：
    $$A_l = \frac{1}{(n-l)\sigma^2}\sum_{t=1}^{n-1}(X_{t+l}-\mu)$$

    ```python{class=line-numbers}
    from statsmodels.graphics.tsaplots import plot_acf
    plot_acf(df_data['value'],lags=120)
    plt.show()
    ```

***